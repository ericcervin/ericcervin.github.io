<!DOCTYPE html>
<html lang="en">
  <head>
    <title>cattv_20170225b</title>
    <meta charset="UTF-8">
    <script language="javascript" type="text/javascript" src="./libraries/p5.min.js"></script>
  </head>
  <body>
  <script type="text/javascript">
  function Bloom(temp_x,temp_y){
        this.x = temp_x;
        this.y = temp_y;
        this.child_x = [];
        this.child_y = [];
        this.child_ts = [];
        this.child_fill = [];
        for (var i = 0; i < 24; i++){
            this.child_x.push(this.x - 27 + random(54));
            this.child_y.push(this.y - 27 + random(54));
            this.child_ts.push(random(20,60));
            this.child_fill.push(random(90));
            }
        

        this.blossom = function(steps){
         for (var i = 0; i < steps; i++){            
            fill(this.child_fill[i])
			textSize(this.child_ts[i])
            text("*",this.child_x[i],this.child_y[i])
         }
        }
  }  

var x,y,z;
  
  function setup(){
    createCanvas(500,500);    
    frameRate(24);
    x = new Bloom(100,100);
    y = new Bloom(100,200);
    z = new Bloom(100,300);
}

  function draw(){
  

    if ((frameCount % 24) == 0){
       px = random(450); py = random(450);
       x = new Bloom(px,py);
	 }
    if (((frameCount - 16) % 24) == 0){
       px = random(450); py = random(450);
       y = new Bloom(px,py);
	 }
    if (((frameCount - 8) % 24) == 0){
       px = random(450); py = random(450);
       z = new Bloom(px,py);
     }   
    background(255)
    if (frameCount >= 12){
        x.blossom(frameCount % 24);
        y.blossom((frameCount - 12) % 24);
        z.blossom((frameCount - 8) % 24);
     }


}
  </script>
  </body>
  
</html>
 
